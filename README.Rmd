---
title: "largeVis"
output: github_document
bibliography: vignettes/TangLZM16.bib
---
```{r getversion,eval=T,echo=F,warning=F,error=F,message=F}
branch <- system("git branch -v", intern=TRUE)
branch <- branch[grep("\\*", branch)]
poses <- regexpr("(?<=\\*\\s)(\\S+)(?=\\s)", perl = TRUE, branch)
branch <- substr(branch, attr(poses, "capture.start"), attr(poses, "capture.start") + attr(poses, "capture.length"))
branch <- gsub("^\\s+|\\s+$", "", branch)
```
[![Travis-CI Build Status](https://travis-ci.org/elbamos/largeVis.svg?branch=`r branch`)](https://travis-ci.org/elbamos/largeVis)
[![Coverage Status](https://img.shields.io/codecov/c/github/elbamos/largeVis/`r branch`.svg)](https://codecov.io/gh/elbamos/largeVis/branch/`r branch`) [![https://gitter.im/elbamos/largeVis](https://badges.gitter.im/elbamos/largeVis.svg)](https://gitter.im/elbamos/largeVis?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge)
[![AppVeyor Build Status](https://ci.appveyor.com/api/projects/status/github/elbamos/largeVis?branch=`r branch`&svg=true)](https://ci.appveyor.com/project/elbamos/largeVis?branch=`r branch`)

This is an implementation of the `largeVis` algorithm described in (https://arxiv.org/abs/1602.00370).  It also incorporates a very fast algorithm for estimating k-nearest neighbors, implemented in C++ with `Rcpp` and `OpenMP`, and for visualizing a map of the manifold like [this](http://cs.stanford.edu/people/karpathy/cnnembed/).

#### News Highlights
* Pending submission to CRAN!
* As of version 0.1.10, `projectKNNs` now has a `momentum` parameter. By setting this parameter between `0` and `1` and reducing the number of `sgd_batches`, excellent results can be obtained in a fraction of the training time. In my experiments, setting momenum to `0.8`, and setting `sgd_batches` to 1/10th of the default, usually works well. To facilitate this, if `sgd_batches` is
between `0` and `1`, this is used as a multiplier to adjust the number of batches from the default. 
* The big news in 0.1.8 and 0.1.9 was the addition of the OPTICS and especially the HDBSCAN density-based clustering algorithms. These are highly optimized implementations that leverage the nearest-neighbor data produced by `LargeVis`. 
* The implementation has been tested (successfully) with datasets of up to 2.5 million rows, and with sparse datasets of up to 10,000 features. 

#### Notes
* For reasons related to CRAN submission, 64-bit Armadillo objects are now turned-off by default. To enable, consider adding to `~.R/Makevars`:
```
R_XTRA_CXXFLAGS = -DARMA_64BIT_WORD
```
* On Mac OS X, the Apple compiler does not support OpenMP.  Compiling `largeVis` with OpenMP support requires some fiddling.  Here are some instructions that may work for you:
    - Use `homebrew` to install `llvm` version 3.8 or greater.
    - Link it to `/usr/local` with `brew link --force llvm`. 
    - Add the following line to `~.R/Makevars`:
    ```
    SHLIB_OPENMP_CFLAGS = -fopenmp
    ```
    - Add the following to `~/.Renviron`:
    ```
    PATH=/usr/local/bin:${PATH}
    ```

## Examples
```{r echo=F}
vdatapath <- "../largeVisData/vignettedata/"
```
```{r child='../Examples.Rmd',}
```

## Benchmarks

```{r child='vignettes/benchmarks.Rmd',}
```

## Vignette

```{r echo=F}
vdatapath <- "../../largeVisData/vignettedata/"
```
```{r child='vignettes/largeVis.Rmd',}
```
